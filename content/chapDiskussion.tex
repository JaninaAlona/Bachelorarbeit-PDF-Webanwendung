\chapter{Diskussion und Kritik}
Es gibt einige Kritikpunkte in meiner PDF Web App, die zur weiteren Diskussion anregen. Eine wichtige Vorgabe habe ich nicht umgesetzt. Die Druckfunktionalität fehlt in der PDF Web App, weil sie auf Grund der same-origin policy in Browsern schwierig zu implementieren ist, wenn man das zu druckende PDF in einem neuen Browsertab öffnen möchte. Die same-orgin policy blockiert den Lesezugriff von Ressourcen, die von einer anderen Herkunft geladen werden. Diese Sicherheitsfunktionalität regelt wie Dokumente und Scripte mit Ressourcen anderen Ursprungs interagieren \cite{same-origin}. Aktuell kann der Creator keine exakte Größe des Seitenformats erstellen. Im Nachkommabereich ist die eingestellte Größe der PDF Datei ein wenig kleiner, was aber visuell und in der Praxis keinen Unterschied macht. Grund dafür ist, dass die PDF-Spezifikation keine expliziten Breiten und Höhen von Dokumenten toleriert. Stattdessen wird die Seitengröße durch die MediaBox, CropBox, BeleedBox, TrimBox und ArtBox definiert. Daher kann man nicht direkt die Dimensionen der Seite umgestalten \cite{pdf-lib-pagesize}. Es gibt einige Optimierungsmöglichkeiten von bestehenden Funktionalitäten. Im Merger kann man jeweils nur einen Listeneintrag von ausgewählten PDFs, die zusammengefügt werden sollen, auswählen. In dem Fall wäre es praktikabler, wenn man mehrere Menüpunkt auswählen könnte und alle mit Remove aus der Liste entfernen könnte. Genauso sinnvoll wäre es im Dateibrowser mehrere PDF-Dateien im Splitter und Merger selektieren und öffnen zu können. Bei den input fields für die Seitenliste könnte ich noch hinzufügen, dass man auch ein Intervall von Seiten angeben kann, also von Seite x–y. 
\par
Wenn man genau hinschaut, dann sieht man, dass kopierte Text- und Bildelemente minimal verschoben sind. Ihre control boxes sind allerdings deckungsgleich. Dieser Effekt geht weg, sobald man eine Elementoperation ausführt. Beim Radieren von Zeichnungen im Draw Editor könnte man die Ebene, wo die Zeichnung komplett wegradiert wurde, automatisch entfernen. Zur Zeit funktioniert die PDF Web App in der Art und Weise, dass der Benutzer die vollständig radierte Ebene manuell löschen muss. Das automatische Entfernen von solchen Ebenen hat Vor- und Nachteile. Eventuell würde es den intuitiven Arbeitsfluss des Nutzers beim Zeichnen stören, falls die Ebene automatisch entfernt würde. Das Zeichnen auf einem Graphic Tablet funktioniert ohne Probleme. Ebenfalls hat die Verwendung von absoluter Rotationen von Elementen Vor- und Nachteile. Relative Rotationen könnten ein intuitives Arbeiten ermöglichen und würden Kopfrechenschritte sparen. Jedoch haben absolute Rotationen den Vorteil, dass die Rotation immer gleich ist und somit besser nachvollziehbar für den Benutzer ist. Außerdem kann der Benutzer dann die Rotation zurücksetzten, indem er einen absoluten Rotationswinkel von 0 Grad wählt. Der Nachteil der absoluten Rotation liegt darin, dass bei der Rotation von mehreren Elementen im Layer Mode vorherige Rotationen von Elementen mit der aktuellen Rotation überschrieben werden. In dem Fall sollte man besser im Box Mode Elemente einzeln unterschiedlich rotieren. Hätte ich eine relative Rotation implementiert, würden vorherige Rotationen in den Element erhalten bleiben. Ich bräuchte dann auch keine automatische neue Ebene zu generieren, wenn man eine Zeichnung rotiert hat. Auf der anderen Seite habe ich bei der Skalierung mit einem Skalierungsfaktor auf eine relative Skalierung zurückgegriffen. Das hat den Vorteil, dass man im Layer Mode unabhängig große Objekte gleich skalieren kann. Zumindest beim Geometrie- und Bildeditor kann man auch absolut mit Breite und Höhe skalieren. Beim Drawer gibt es nur den relativen Skalierungsfaktor, der Breite und Höhe individuell skalieren kann, was ich bei Zeichnungen als sinnvoll erachtet habe. Zeichnungen sind eher ungenau und brauchen weniger eine exakte Größe. Zusätzlich sollte ich zukünftig noch eine untere und obere Maximalgröße für relative Skalierung einbauen. 
\par
Was sicherlich für den Benutzer ungewohnt ist, dass sich eine Element im Editor nicht mitbewegt, wenn man seine control box verschiebt. Das habe ich aus Performance-Gründen auf diese Art und Weise implementiert. Außerdem kann man dann besser sehen, was sich quasi unter dem Element an der Zielposition befinden würde. Der Nachteil ist, dass man Elemente weniger präzise platzieren kann. Im Box Mode kann man nur control boxes bearbeiten, wenn sie nicht von anderen control boxes verdeckt sind, wie z.B. bei kopierten Elementen. Wenn man die Move-Operation im Layer Mode auf von anderen control boxes verdeckten Elementen anwenden möchte, d.h. die Ebenen der verdeckten Elemente sind ausgewählt, ist dies ebenso nicht möglich. Diese Probleme können gelöst werden, indem mit die Ebenen der Elemente, die man bearbeiten möchte, in den Vordergrund verschiebt. Der Benutzer der PDF Web App könnte zu der Ansicht gelangen, dass die control boxes etwas zu groß sind. Ich habe sie deshalb so riesig gestaltet, weil ich finde, dass die Boxen zum Anklicken von Elementen in Programmen wie Illustrator zu klein sind und es für die Augen anstrengender ist Elemente in Illustrator zu bearbeiten. Folglich kann man in meiner PDF Web App möglicherweise nicht so genau gestalten. Grund hierfür ist, dass die Mauscursorpositionen keine Floats anzeigen und es keine Hilfsmittel wie Lineale oder Hilfslinien für Layoutgestaltung gibt. Ein weiterer zu verbessernder Aspekt ist die Tatsache, dass die control boxes eine fixe Farbe besitzen. Folglich wenn man z.B. einen Shape mit orangener control box erstellt und die Füllung in diesem Orange einstellt, würde die control box visuell nicht mehr sichtbar sein. In solch einem Fall sollte die control box möglicherweise die Farbe wechseln oder generell sollte sie eine andere Füllfarbe als die Kontur aufweisen. Im letzten Fall müsste dann die control box kleiner sein oder vielleicht eine gestrichelte oder punktierte Kontur haben. Falls man ein Element zu weit an den Rand bewegt, verschwindet irgendwann die control box im Editorhintergrund. Eine Verbesserung für die Zukunft wäre, dass die control boxes immer sichtbar sind, selbst wenn das Element aus dem Seitenbereich herausbewegt wird. Möglicherweise könnte ich in Zukunft eine Ansicht des aktuell modifizierten PDF-Dokuments programmieren, wo die control boxes ausgeblendet sind, da sie doch relativ störend beim visuellen Gesamterscheinungsbildes des geöffneten PDF-Dokuments sind. Außerdem gibt es auch keine Farbpipette, wie in Photoshop, wo man einen spezifischen Farbwert von einem Elementpunkt bestimmen kann. Die PDF Web App hat allerdings nicht den Anspruch eine möglichst genaue Anwendung zum Layouten zu sein, sondern soll die gängigsten schnellen Bearbeitungsmöglichkeiten von PDF-Dokumenten anbieten.
\par
Die Programmdesignentscheidung für zwei Modi, den Box Mode und Layer Mode, kam mir erst später in den Sinn. Zunächst hatte ich nur den Box Mode implementiert und als ich dann die z-Achsen-Reihenfolge von Elementen durch Ebenen bestimmen wollte, kam mir der Layer Mode in den Sinn, da es doch naheliegend war, mehrere Ebenen mit ihren Elementen zeitsparend zu modifizieren. Der Vorteil meiner Ebenenimplementierung liegt darin, dass Elemente nicht direkt ausgewählt werden müssen, sondern komplett mit einer Ebene verknüpft sind und somit als Ganzes, unabhängig von der Lage im Vordergrund bzw. Hintergrund oder anderen Elementen, modifiziert werden können. Durch die Änderbarkeit der Ebenenreihenfolge kann man sogar Elemente auf andere Seiten ziehen. Eine benutzerdefinierte Gruppierung von Ebenen, nicht nur nach Seiten, würde die Ebenenimplementierung noch bereichern. Ein Kritikpunkt im Editor ist, dass wenn man ein Element auf eine andere Seite verschiebt, die viel kleiner ist, dann verschwindet es, weil die Seitenkoordinaten zu unterschiedlich sind. Man kann das Element allerdings zurückholen, wenn man es wieder auf die Ursprungsseite zurück platziert. Eine Erweiterung der aktuellen Ebenenimplementierung wäre, dass man eine Gruppe von mehreren Ebenen von einer Seite auf eine andere Seite mit einer Operation verschieben könnte. Genauso sinnvoll wäre ein Ein- und Ausblenden von mehreren selektierten Ebenenelementen mit einem Klick und dann einen entsprechenden selection filter um ein- und ausgeblendete Ebene auswählen zu können. 
\par   
Ein großer Pluspunkt der PDF Web App ist, dass sie nicht installiert werden muss. Dabei werden auch keine zusätzlichen ungewünschten Werbeprogramme im System des Benutzers installiert. Das bedeutet auch, dass keine Deinstallationsdateien übrig bleiben. Außerdem ist die Speichergrößer der PDF Web App für die Offline-Verwendung aktuell unter 3,5 MB groß. Viele PDF-Programme auf dem Markt verbrauchen wesentlich mehr Speicherplatz. Ich unterstütze keine Verschlüsselung von PDF-Dokumenten, da PDF-Dateien unsicher sind und nicht für vertraulichen Inhalt verwendet werden sollten. In Zukunft könnte ich versuchen, eine sichere Verschlüsselung zu implementieren, was eher mehr Zeit in Anspruch nehmen würde.
\par
Insgesamt ist die leichte Bedienbarkeit der PDF Web App zumindest im Editor nicht ganz gelungen. Für das Verständnis von Box Mode und Layer Mode, sowie deren Vorzüge, muss man die Tutorials gelesen haben. Auch die Select All und Deselct All Filter sind nicht ganz eingängig. Als einzige Buttons sind Spin CW (clockwise) und Spin CCW (counterclockwise) weniger aussagekräftig beschriftet. Eine Unannehmlichkeit ist die aktuelle Funktion, wenn man von einem anderen Modul als dem Editor auf ein beliebiges Editormodul klickt im Hauptmenü, gelangt man immer zuerst zum Texteditor. Besser wäre es, wenn man direkt zum jeweiligen Editormodul gelangen würde.

\section{Ideen für zukünftige Releases der PDF Web App}
Einige wichtige Funktionalitäten sind noch nicht implementiert und ich plane diese noch in die PDF Web App in den nächsten Releases einzubauen. In meiner PDF Web App fehlt die Spiegelung von Text, Zeichnungen, Geometrie und Bildern als wichtige affine Transformation. Die anderen Transformationen Verschiebung, Skalierung und Rotation sind bereits in der PDF Web App vorhanden. Außerdem fehlt die Searchable PDF-Eigenschaft im Reader bzw. Editor, d.h. der Benutzer kann keinen Text oder Bilder kopieren bzw. markieren. Die Searchable PDF-Eigenschaft kann nicht genutzt werden, da ich die PDF Seiten des source Dokuments in Canvas HTML-Elemente rendere. Folglich werden alle Seiten gerastert und die Searchable PDF-Eigenschaft des source Dokuments geht verloren. 
\par
Ein fortschrittliches zukünftige Feature wäre die Editierung von bereits bestehenden Objekten im Source-Dokument bearbeiten zu können. Im weiteren Verlauf des Projekts möchte ich unabdingbar Text, Geometrie und Zeichnungen mit Vektorpfaden ersetzen. In der aktuellen Version der PDF Web App sind alle Elemente pixelbasiert. Falls der Browser oder Computer abstürzt und das in der PDF Web App geöffnete Dokument nicht gedownloaded wurde, sind die Daten verloren. Als Gegenmaßnahme könnte man einen Export und Import Button konfigurieren, der die hinzugefügten PDF-Objekte als \gls{json}-Datei speichert. Bei Export würde diese Datei angelegt und im Ordner der PDF Web App gespeichert werden und mittels Import könnte man die PDF-Objekte dem geöffneten Dokument hinzufügen, sodass sie weiter bearbeitet werden können. Zusätzlich könnte man einen automatischen Export der PDF-Objekte als Backup implementieren, der z.B. alle 10 Minuten die hinzugefügten Elemente wie Text, Zeichnungen, Geometrie und Bilder in der \gls{json}-Datei sichert.
\par
Eine Funktionalität, die ich oft benötige, ist die Kompression von PDF-Dokumenten. Anfangs wollte ich gerne eine Funktion dafür bieten, jedoch hatte ich keine geeignete JavaScript-Library für Kompression gefunden. Ich habe darauf verzichtet die Kompression selbst zu implementieren. Ebenfalls häufig Anwendung würde eine Undo- bzw. Redo-Funktion finden, also dass man Schritte rückgängig machen und rückgängig gemachte Schritte wieder ausführen kann. In der Praxis verwende ich eher selten Formulare, aber Formulare auszufüllen und editierbare Formulare zu erstellen, wäre mit Sicherheit ein sehr nützliches Feature. Außerdem plane ich später die PDF Web App auf allen gängigen Browsern zu testen und anzupassen, selbst das GUI-Design. Bisher habe ich ausschließlich in Firefox entwickelt und getestet.